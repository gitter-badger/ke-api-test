<!doctype html>
<html lang="en" ng-app="ccM">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title></title>
<link rel="stylesheet" href="bootstrap-3.2.0-dist/css/bootstrap.min.css" />
<style>
*{outline: none!important}
.ke-icon-ccPlugin{
    background: red;
    width: 16px;
    height: 16px
}
</style>
</head>

<body>

<div class="container" ng-controller="ccC">
    <h2 class="text-center">KindEditor 插件</h2>
    <form id="ccForm">
        <textarea class="form-control" id="ccEditor" name="something"></textarea>
    </form>
        <button class="btn btn-info" id="submit">click</button>
</div>
<script src="js/jquery-1.11.1.min.js"></script>
<script src="bootstrap-3.2.0-dist/js/bootstrap.min.js"></script>
<script src="kindeditor-4.1.10/kindeditor-all-min.js"></script>
<script src="angular-1.3.15/angular.js"></script>
<script type="text/javascript">
'use strict'

KindEditor.lang({'ccPlugin': '你在哪儿能看到我', 'source': '居然想看源代码'})

KindEditor.ready(function(K){
    var editor = K.create('#ccEditor', {
        width: '100%', 
        items: ['source', '|', 'fontname', 'fontsize', 'forecolor', '|', 'ccPlugin'], 
        afterBlur: function(){
            // or this.sync() 把iframe里的内容直接同步到 textarea 中
            editor.sync()
            console.log(editor.text())
        }
    })
})

var $submit = $('#sumit'), 
    $ccForm = $('#ccForm')

$('#submit').click(function(){
    var data = $ccForm.serialize() // jq serialize() 方法自动调用了 encodeURIComponent()
    data = decodeURIComponent(data, true)
    console.log('hi')
    console.log(data)
})

var app = angular.module('ccM', [])
app.controller('ccC', ['$scope', function($scope){
    
}])

</script>
</body>
</html>
